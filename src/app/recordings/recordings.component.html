<div class="min-h-screen p-6 bg-gray-100">
  <div class="bg-white p-6 rounded-lg shadow-lg">
    <table class="min-w-full border-collapse rounded-lg overflow-hidden shadow">
      <!-- Header -->
      <thead>
        <tr class="text-white text-center bg-gradient-to-b from-blue-700 to-blue-500">
          <!-- <th class="px-6 py-4 text-sm font-medium">#</th> -->
          <th class="px-6 py-4 text-sm font-medium"><i class="fa fa-calendar-alt"></i> Date</th>
          <th class="px-6 py-4 text-sm font-medium"><i class="fa fa-phone"></i> From</th>
          <th class="px-6 py-4 text-sm font-medium"><i class="fa fa-phone"></i> To</th>
          <th class="px-6 py-4 text-sm font-medium"><i class="fa fa-clock"></i> Time</th>
          <th class="px-6 py-4 text-sm font-medium"><i class="fa fa-hourglass-half"></i> Duration</th>
          <th class="px-6 py-4 text-sm font-medium"><i class="fa fa-microphone"></i> Recording</th>
          <th class="px-6 py-4 text-sm font-medium"><i class="fa fa-trash"></i> Delete</th>
        </tr>
      </thead>

      <!-- Body -->
      <tbody>
        <tr *ngFor="let recording of recordings; let i = index" class="text-gray-800 text-center hover:bg-gray-200 transition">
          <!-- <td class="px-6 py-4 border-b">{{ (currentPage - 1) * pageSize + i + 1 }}</td> -->
          <td class="px-6 py-4 border-b">{{ recording.created_at | date:'MMM d, yyyy' }}</td>
          <td class="px-6 py-4 border-b">{{ recording.from | phone }}</td>
          <td class="px-6 py-4 border-b">{{ recording.to | phone }}</td>
          <td class="px-6 py-4 border-b">{{ recording.created_at | date:'hh:mm:ss a' }}</td>
          <td class="px-6 py-4 border-b">{{ formatDuration(recording.duration_millis) }}</td>

          <!-- Play/Pause -->
          <td class="px-6 py-4 border-b">
            <button (click)="togglePlayback(recording)" class="bg-blue-400 hover:bg-blue-500 text-white py-2 px-4 rounded shadow-md transition">
              <i *ngIf="currentPlayingRecordingId === recording.id; else playIcon" class="fa fa-pause"></i>
              <ng-template #playIcon><i class="fa fa-play"></i></ng-template>
            </button>
            <div *ngIf="currentPlayingRecordingId === recording.id" class="w-full bg-gray-300 rounded-full h-2 mt-2">
              <div class="bg-blue-500 h-2 rounded-full" [style.width.%]="audioProgress"></div>
            </div>
          </td>

          <!-- Delete -->
          <td class="px-6 py-4 border-b">
            <button (click)="deleteRecording(recording)" class="bg-red-400 hover:bg-red-500 text-white py-2 px-4 rounded shadow-md transition">
              <i class="fa fa-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <div class="flex justify-center items-center mt-8 space-x-4">
      <button (click)="prevPage()" [disabled]="!meta || currentPage <= 1"
        class="bg-gray-500 hover:bg-gray-600 text-white py-2 px-5 rounded disabled:opacity-50 shadow-md transition">
        <i class="fa fa-chevron-left"></i> Previous
      </button>

      <span class="text-gray-900 text-sm font-medium">
        Page {{ currentPage }} of {{ meta?.total_pages }}
      </span>

      <button (click)="nextPage()" [disabled]="!meta || currentPage >= meta.total_pages"
        class="bg-gray-500 hover:bg-gray-600 text-white py-2 px-5 rounded disabled:opacity-50 shadow-md transition">
        Next <i class="fa fa-chevron-right"></i>
      </button>
    </div>
  </div>
</div>
